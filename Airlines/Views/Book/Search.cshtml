
@{
    ViewBag.Title = "Search";
}

<div>

    <form class="form-inline" action="/Book/FlightsSearch" data-ajax="true" data-ajax-mode="replace" data-ajax-update="#results" id="form0" method="post">
        <label class="control-label">Откуда: </label>
        @Html.DropDownList("from", ViewBag.Cities as SelectList, "--Выберите город--",
                    htmlAttributes: new { @class = "form-control"})

        <label class="control-label">Куда: </label>
        @Html.DropDownList("to", ViewBag.Cities as SelectList, "--Выберите город--",
                htmlAttributes: new { @class = "form-control" })
        <label for="date">Дата отправления: </label>
        <input type="date" class="form-control" id="dateTo" name="dateTo" required />
        <label for="date">Дата возвращения </label>
        <input type="date" class="form-control" id="dateFrom" name="dateFrom" required />
        <label for="oneway">Билет в одну сторону </label>
        @Html.CheckBox("oneway", false)
        <label for="transfer">Возможность одной пересадки </label>
        @Html.CheckBox("transfer", false)
        <button type="submit" class="btn btn-primary">Поиск</button>
    </form>
    <script>
        
        document.getElementById('oneway').onclick = function () {
            if (document.getElementById('oneway').checked) {
                $("#dateFrom").prop("disabled", true);
                $("#dateFrom").prop('required', false);
            }
            else {
                $("#dateFrom").prop("disabled", false); 
                $("#dateFrom").prop('required', true); 
            }
        }
    </script>
    <div id="results"></div>
</div>
@Scripts.Render("~/scripts/jquery-3.3.1.min.js")
@Scripts.Render("~/scripts/jquery.unobtrusive-ajax.min.js")



