
@{
    ViewBag.Title = "Search";
}
@Scripts.Render("~/scripts/jquery-3.3.1.min.js")
@Scripts.Render("~/scripts/jquery.unobtrusive-ajax.min.js")
@Scripts.Render("~/scripts/jquery-3.3.1.js")
<div>

    <form class="form-inline" action="/Search/SearchResult" data-ajax="true" data-ajax-mode="replace" data-ajax-update="#results" id="form0" method="post">
        <label class="control-label">Откуда: </label>
        @Html.DropDownList("from", ViewBag.Cities as SelectList, "--Выберите город--",
                    htmlAttributes: new { @class = "form-control"})

        <label class="control-label ">Куда: </label>
        @Html.DropDownList("to", ViewBag.Cities as SelectList, "--Выберите город--",
                htmlAttributes: new { @class = "form-control" })

        <label for="date">Дата отправления: </label>
        <input type="date" class="form-control" id="dateTo" name="dateTo" required />

        <label for="date">Дата возвращения </label>
        <input type="date" class="form-control" id="dateFrom" name="dateFrom" required />

        <input type="number" class="form-control" id="person" name="person" value="1" size="5"/>
            @*<button class="btn btn-outline-secondary" id="minus" type="button">-</button>
            <button class="btn btn-outline-secondary" id="plus" type="button">+</button>*@

        <div class="col-lg-12 empty"></div>
        <label for="oneway">Билет в одну сторону: </label>
        @Html.CheckBox("oneway", false)
        <label for="transfer">Возможность одной пересадки: </label>
        @Html.CheckBox("transfer", false)
        <button type="submit" class="btn btn-primary desight">Поиск</button>
    </form>
    <script>
        document.getElementById('oneway').onclick = function () {
            if (document.getElementById('oneway').checked) {
                $("#dateFrom").prop("disabled", true);
                $("#dateFrom").prop('required', false);
                $("#dateFrom").attr("value", "2018-01-01");
            }
            else {
                $("#dateFrom").prop("disabled", false);
                $("#dateFrom").prop('required', true);
            }
        }
    </script>
    <script>
        $('#minus').on('click', function (e) {
            var counter = $('#person').val();
            if (counter > 1) {
                counter--;
                $('#person').val(counter);
            }
            });
        $('#plus').on('click', function (e) {
            var counter = $('#person').val();
            counter++;
            $('#person').val(counter);
        });
    </script>
    <div id="results"></div>
</div>




